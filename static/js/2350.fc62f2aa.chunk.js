"use strict";(self.webpackChunksolar_pro_react=self.webpackChunksolar_pro_react||[]).push([[2350,4407],{18415:function(e,t,n){n.d(t,{M:function(){return r},q:function(){return a}});var a=function(e){document.addEventListener("sketcherPickedEvent",e,!1)},r=function(e){document.removeEventListener("sketcherPickedEvent",e,!1)}},15345:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(42982),r=n(1413),o=n(70885),c=n(47313),s=n(63849),i=n(31616),l=n(84084),u=n(65958),d=n(92877),f=n(97890),h=n(3745),v=n(37810),x=n(18415),p=n(16783),Z=n(95922),j=n(90553),m=n(46417);function w(e){var t=new Z.Z,n=(0,c.useState)({x:0,y:0,directions:""}),a=(0,o.Z)(n,2),l=a[0],u=a[1],d=(0,c.useState)(!0),f=(0,o.Z)(d,2),h=f[0],v=f[1];(0,c.useEffect)((function(){return(0,x.q)(w),t.unSelectAll(),function(){(0,x.M)(w)}}),[e.state,h]);var w=function(t){var n=t.detail;if(1==(null===n||void 0===n?void 0:n.code)){if(u((0,r.Z)((0,r.Z)({},l),n.point)),n.point.x=Math.ceil(n.point.x),n.point.y=Math.ceil(n.point.y),e.state.directions){var a=(0,r.Z)((0,r.Z)({},n.point),{},{direction:e.state.directions});b((0,r.Z)({},a),"zeroPoint")}else b((0,r.Z)({},n.point),"zeroPoint");v(!1)}else v(!0);console.log(n,"I'm listening on solar pro to sketcher")},b=function(t,n){e.updateState(t,n)},g=function(t,n){var a=(0,r.Z)({},e.state.fetaData);null==t?delete a[n]:a[n]=t,b(a,"fetaData")},k=function(t){var n="\u05d1\u05d9\u05df ".concat(t,"-").concat(t+1);return 0==t&&(n="\u05d1\u05d9\u05df ".concat("\u05d2\u05d2","-",t+1)),t==e.state.fetaCount-1&&(n="\u05d1\u05d9\u05df ".concat(t,"-","\u05dc\u05d2\u05d2")),n};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"",children:(0,m.jsx)(j.N,{class:"error",id:"directions-group-button",up:e.state.allowDirection.up,down:e.state.allowDirection.down,right:e.state.allowDirection.right,left:e.state.allowDirection.left,value:e.state.directions,setVDirections:function(t){return function(t){b(t,"directions");var n=(0,r.Z)((0,r.Z)({},e.state.zeroPoint),{},{direction:e.state.directions});b((0,r.Z)({},n),"zeroPoint")}(t)}})}),(0,m.jsxs)(s.Z,{children:[(0,m.jsx)(i.Z,{xs:2}),(0,m.jsxs)(i.Z,{className:"py-3",children:["  ",(0,m.jsx)(p.Z,{id:"outlined-basic",label:"\u05de\u05e1\u05e4\u05e8 \u05d4\u05e4\u05d8\u05d5\u05ea",value:e.state.fetaCount,onChange:function(t){return function(t){var n=t.target.value;e.state.fetaCount>n&&g(null,e.state.fetaCount-1),b(n,"fetaCount")}(t)},autoComplete:"off",color:"primary",InputProps:{inputProps:{min:0,max:100,type:"number"}},sx:{width:150}})]}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(i.Z,{className:"py-3",children:Array.from({length:e.state.fetaCount},(function(n,a){return(0,m.jsxs)("span",{className:"p-3",children:[(0,m.jsx)(p.Z,{sx:{width:100},id:"feta-".concat(a),label:k(a),variant:"standard",autoComplete:"off",value:e.state.fetaData[a],type:"number",onChange:function(e){g(e.currentTarget.value,a)},children:" "},"feta-".concat(a)),(0,m.jsx)("button",{tabIndex:-1,onClick:function(n){return function(n,a){n.preventDefault();var r=-(e.id+1),o="FETOT",c=0;for(var s in e.state.fetaData){var i=e.state.fetaData[s];c+=Number(i),Number(i);var l=0,u=0;switch(e.state.directions){case"right":l=c;break;case"left":l=-c;break;case"up":u=c;break;case"down":u=-c}var d={dx:l,dy:u};if(s==a){t.executeInSketcher("copy",r,o,d);break}}t.executeInSketcher("select",r,o,null),t.executeInSketcher("lockAll",r,o,null),t.executeInSketcher("unselect",r,o,null)}(n,a)},disabled:h,className:"bg-orange",children:"\u05e9\u05e8\u05d8\u05d8"})]})}))})})]}),(0,m.jsx)("div",{className:"text-center py-3",children:(0,m.jsx)("button",{onClick:function(n){var a=-(e.id+1);t.executeInSketcher("delete",a,"FETOT"),n.preventDefault(),b({},"fetaData"),b(0,"fetaCount")},children:"\u05de\u05d7\u05e7 \u05e4\u05d8\u05d5\u05ea \u05de\u05d4\u05ea\u05e8\u05e9\u05d9\u05dd"})}),(0,m.jsx)("div",{className:"text-center mt-4",children:(0,m.jsx)("button",{onClick:function(n){return function(n){var a=0,r=-(e.id+1),o="FETOT";for(var c in e.state.fetaData){var s=e.state.fetaData[c];a+=Number(s);var i=0,l=0;switch(e.state.directions){case"right":i=a;break;case"left":i=-a;break;case"up":l=a;break;case"down":l=-a}var u={dx:i,dy:l};t.executeInSketcher("copy",r,o,u),n.preventDefault()}t.executeInSketcher("select",r,o,null),t.executeInSketcher("lockAll",r,o,null),t.executeInSketcher("unselect",r,o,null)}(n)},disabled:h,className:"bg-orange text-center",children:"\u05e9\u05e8\u05d8\u05d8 \u05d4\u05db\u05dc"})})]})}var b=n(22499),g=(n(78614),function(e){var t=(0,c.useState)(!1),x=(0,o.Z)(t,2),p=x[0],Z=x[1],j=(0,c.useContext)(u.default),g=(0,f.TH)(),k=(0,c.useState)(),D=(0,o.Z)(k,2),S=D[0],N=D[1],y=new v.Z,I=(0,c.useState)({right:!0,left:!0,up:!0,down:!0}),C=(0,o.Z)(I,2),z=C[0],A=C[1],T=(0,c.useState)([]),P=(0,o.Z)(T,2),L=P[0],O=P[1],E=(0,f.UO)().projectId;(0,c.useEffect)((function(){return function(){var t=!0,n=j.stepsData.all,a=[];if(n){if(n.roofTypeDataArr&&n.roofTypeDataArr.length>0)for(var r=0;r<n.roofTypeDataArr.length;r++){var o=n.roofTypeDataArr[r],c=o.roofTypeId,s=o.modalType;if(c==d.Lm.ISKURIT){t=!1;var i=H(s);a.push({fetaCount:0,fetaData:[],allowDirection:i})}}if(t){var l,u=null,f=null;null!==g&&void 0!==g&&null!==(l=g.state)&&void 0!==l&&l.isPrev?e.OnPrev():e.OnSubmit(u,f)}M(n,a),N(n.UserId)}}(),e.displaySketcher(!1),function(){}}),[]);var M=function(e,t){e.fetotDataArr&&e.fetotDataArr.length>0?O(e.fetotDataArr):O(t)},H=function(e){var t=(0,r.Z)({},z);switch(Number(e)){case 3:t.down=!1,t.up=!1,t.left=!0,t.right=!0,A((0,r.Z)({},t));break;case 1:case 2:t.down=!0,t.up=!0,t.left=!1,t.right=!1,A((0,r.Z)({},t))}return t};return(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{className:"py-5",children:"\u05e1\u05d9\u05de\u05d5\u05df \u05e4\u05d8\u05d5\u05ea"}),(0,m.jsxs)("form",{onSubmit:function(t){var n={UserId:S,ProjectId:E,fetot:{},fetotDataArr:[]};L.map((function(e){e.zeroPoint||(alert("no zero point was selected"),console.error("no zero point was selected")),n.fetotDataArr.push((0,r.Z)({},e))})),y.saveSkecherDataInServer(n),e.OnSubmit(t,n)},id:"step5",children:[(0,m.jsx)(s.Z,{className:"text-center",children:(0,m.jsxs)(i.Z,{children:[(0,m.jsx)("h4",{className:"py-3 text-right",children:"\u05e1\u05de\u05df \u05d0\u05ea \u05d4\u05e6\u05dc\u05e2 \u05e9\u05de\u05de\u05e0\u05d4 \u05e0\u05ea\u05d7\u05d9\u05dc \u05d0\u05ea \u05e1\u05d9\u05de\u05d5\u05df \u05d4\u05e4\u05d8\u05d5\u05ea \u05d5\u05d0\u05ea \u05d4\u05de\u05d9\u05d3\u05d5\u05ea \u05e9\u05dc\u05d4\u05df \u05d1\u05e9\u05d9\u05e8\u05d8\u05d5\u05d8."}),(0,m.jsxs)("div",{className:"py-3 d-flex flex-row-start",children:[(0,m.jsx)("div",{onClick:function(){Z(!p)},children:(0,m.jsx)(l.Z,{})}),1==p?(0,m.jsx)("img",{width:400,src:n(34407),alt:"select demo"}):""]})]})})," ",(0,m.jsx)(s.Z,{children:(0,m.jsx)(i.Z,{children:(0,m.jsxs)(b.mQ,{children:[(0,m.jsx)(b.td,{children:L&&L.map((function(e,t){return(0,m.jsxs)(b.OK,{children:[(0,m.jsx)("span",{className:"hide",children:(0,m.jsx)(h.Z,{})})," \u05d2\u05d2-",t]})}))}),L&&L.map((function(e,t){return(0,m.jsx)(b.x4,{children:(0,m.jsx)(w,{updateState:function(e,n){return function(e,t,n){var r=(0,a.Z)(L);r[n][t]=e,O(r)}(e,n,t)},state:e,id:t,allowDirection:z})})}))]})})})]})]})})},90553:function(e,t,n){n.d(t,{N:function(){return h}});var a=n(70885),r=n(54299),o=n(83929),c=n(74268),s=n(63115),i=n(98700),l=n(14647),u=n(14e3),d=n(47313),f=n(46417),h=function(e){var t=(0,d.useState)("right"),n=(0,a.Z)(t,2);n[0],n[1];return(0,f.jsx)("div",{className:"arrow-wrapper",children:(0,f.jsxs)(r.Z,{id:e.id,"aria-labelledby":"directions-group",name:"directions-group-button",value:e.value||"",onChange:function(t){e.setVDirections(t.target.value),t.stopPropagation()},children:[e.left&&(0,f.jsx)(o.Z,{className:"left-arrow arrow",value:"left",label:"",control:(0,f.jsx)(c.Z,{icon:(0,f.jsx)(l.Z,{}),checkedIcon:(0,f.jsx)(l.Z,{})})},"left"),e.up&&(0,f.jsx)(o.Z,{className:"up-arrow arrow",value:"up",label:"",control:(0,f.jsx)(c.Z,{icon:(0,f.jsx)(s.Z,{}),checkedIcon:(0,f.jsx)(s.Z,{})})},"up"),(0,f.jsx)("div",{className:"rectangle-arrow"}),e.down&&(0,f.jsx)(o.Z,{className:"down-arrow arrow",value:"down",label:"",control:(0,f.jsx)(c.Z,{icon:(0,f.jsx)(i.Z,{}),checkedIcon:(0,f.jsx)(i.Z,{})})},"down"),e.right&&(0,f.jsx)(o.Z,{className:"right-arrow arrow",value:"right",label:"",control:(0,f.jsx)(c.Z,{icon:(0,f.jsx)(u.Z,{}),checkedIcon:(0,f.jsx)(u.Z,{})})},"right")]})})}},14647:function(e,t,n){var a=n(64836);t.Z=void 0;var r=a(n(45045)),o=n(46417),c=(0,r.default)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=c},14e3:function(e,t,n){var a=n(64836);t.Z=void 0;var r=a(n(45045)),o=n(46417),c=(0,r.default)((0,o.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.Z=c},84084:function(e,t,n){var a=n(64836);t.Z=void 0;var r=a(n(45045)),o=n(46417),c=(0,r.default)((0,o.jsx)("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutline");t.Z=c},3745:function(e,t,n){var a=n(64836);t.Z=void 0;var r=a(n(45045)),o=n(46417),c=(0,r.default)((0,o.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");t.Z=c},63115:function(e,t,n){var a=n(64836);t.Z=void 0;var r=a(n(45045)),o=n(46417),c=(0,r.default)((0,o.jsx)("path",{d:"m5 9 1.41 1.41L11 5.83V22h2V5.83l4.59 4.59L19 9l-7-7-7 7z"}),"North");t.Z=c},98700:function(e,t,n){var a=n(64836);t.Z=void 0;var r=a(n(45045)),o=n(46417),c=(0,r.default)((0,o.jsx)("path",{d:"m19 15-1.41-1.41L13 18.17V2h-2v16.17l-4.59-4.59L5 15l7 7 7-7z"}),"South");t.Z=c},34407:function(e,t,n){e.exports=n.p+"static/media/select-demo.87bc486c166cd2320cd4.gif"}}]);