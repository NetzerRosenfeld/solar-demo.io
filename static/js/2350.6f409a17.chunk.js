(self.webpackChunksolar_pro_react=self.webpackChunksolar_pro_react||[]).push([[2350,4407],{8415:function(e,t,n){"use strict";n.d(t,{M:function(){return a},q:function(){return r}});var r=function(e){document.addEventListener("sketcherPickedEvent",e,!1)},a=function(e){document.removeEventListener("sketcherPickedEvent",e,!1)}},5345:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(2982),a=n(1413),o=n(885),c=n(7313),i=n(3849),s=n(1616),u=n(4084),l=n(5958),d=n(2877),f=n(7890),h=n(3745),v=n(7810),p=n(8415),x=n(6783),m=n(5922),Z=n(553),j=n(6417);function b(e){var t=new m.Z,n=(0,c.useState)({x:0,y:0,directions:""}),r=(0,o.Z)(n,2),u=r[0],l=r[1],d=(0,c.useState)(!0),f=(0,o.Z)(d,2),h=f[0],v=f[1];(0,c.useEffect)((function(){return(0,p.q)(b),t.unSelectAll(),function(){(0,p.M)(b)}}),[e.state,h]);var b=function(t){var n=t.detail;if(1==(null===n||void 0===n?void 0:n.code)){if(l((0,a.Z)((0,a.Z)({},u),n.point)),n.point.x=Math.ceil(n.point.x),n.point.y=Math.ceil(n.point.y),e.state.directions){var r=(0,a.Z)((0,a.Z)({},n.point),{},{direction:e.state.directions});g((0,a.Z)({},r),"zeroPoint")}else g((0,a.Z)({},n.point),"zeroPoint");v(!1)}else v(!0);console.log(n,"I'm listening on solar pro to sketcher")},g=function(t,n){e.updateState(t,n)},w=function(t,n){var r=(0,a.Z)({},e.state.fetaData);null==t?delete r[n]:r[n]=t,g(r,"fetaData")},k=function(t){var n="\u05d1\u05d9\u05df ".concat(t,"-").concat(t+1);return 0==t&&(n="\u05d1\u05d9\u05df ".concat("\u05d2\u05d2","-",t+1)),t==e.state.fetaCount-1&&(n="\u05d1\u05d9\u05df ".concat(t,"-","\u05dc\u05d2\u05d2")),n};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"",children:(0,j.jsx)(Z.N,{class:"error",id:"directions-group-button",up:e.state.allowDirection.up,down:e.state.allowDirection.down,right:e.state.allowDirection.right,left:e.state.allowDirection.left,value:e.state.directions,setVDirections:function(t){return function(t){g(t,"directions");var n=(0,a.Z)((0,a.Z)({},e.state.zeroPoint),{},{direction:e.state.directions});g((0,a.Z)({},n),"zeroPoint")}(t)}})}),(0,j.jsxs)(i.Z,{children:[(0,j.jsx)(s.Z,{xs:2}),(0,j.jsxs)(s.Z,{className:"py-3",children:["  ",(0,j.jsx)(x.Z,{id:"outlined-basic",label:"\u05de\u05e1\u05e4\u05e8 \u05d4\u05e4\u05d8\u05d5\u05ea",value:e.state.fetaCount,onChange:function(t){return function(t){var n=t.target.value;e.state.fetaCount>n&&w(null,e.state.fetaCount-1),g(n,"fetaCount")}(t)},autoComplete:"off",color:"primary",InputProps:{inputProps:{min:0,max:100,type:"number"}},sx:{width:150}})]}),(0,j.jsx)(i.Z,{children:(0,j.jsx)(s.Z,{className:"py-3",children:Array.from({length:e.state.fetaCount},(function(n,r){return(0,j.jsxs)("span",{className:"p-3",children:[(0,j.jsx)(x.Z,{sx:{width:100},id:"feta-".concat(r),label:k(r),variant:"standard",autoComplete:"off",value:e.state.fetaData[r],type:"number",onChange:function(e){w(e.currentTarget.value,r)},children:" "},"feta-".concat(r)),(0,j.jsx)("button",{tabIndex:-1,onClick:function(n){return function(n,r){n.preventDefault();var a=-(e.id+1),o="FETOT",c=0;for(var i in e.state.fetaData){var s=e.state.fetaData[i];c+=Number(s),Number(s);var u=0,l=0;switch(e.state.directions){case"right":u=c;break;case"left":u=-c;break;case"up":l=c;break;case"down":l=-c}var d={dx:u,dy:l};if(i==r){t.executeInSketcher("copy",a,o,d);break}}t.executeInSketcher("select",a,o,null),t.executeInSketcher("lockAll",a,o,null),t.executeInSketcher("unselect",a,o,null)}(n,r)},disabled:h,className:"bg-orange",children:"\u05e9\u05e8\u05d8\u05d8"})]})}))})})]}),(0,j.jsx)("div",{className:"text-center py-3",children:(0,j.jsx)("button",{onClick:function(n){var r=-(e.id+1);t.executeInSketcher("delete",r,"FETOT"),n.preventDefault(),g({},"fetaData"),g(0,"fetaCount")},children:"\u05de\u05d7\u05e7 \u05e4\u05d8\u05d5\u05ea \u05de\u05d4\u05ea\u05e8\u05e9\u05d9\u05dd"})}),(0,j.jsx)("div",{className:"text-center mt-4",children:(0,j.jsx)("button",{onClick:function(n){return function(n){var r=0,a=-(e.id+1),o="FETOT";for(var c in e.state.fetaData){var i=e.state.fetaData[c];r+=Number(i);var s=0,u=0;switch(e.state.directions){case"right":s=r;break;case"left":s=-r;break;case"up":u=r;break;case"down":u=-r}var l={dx:s,dy:u};t.executeInSketcher("copy",a,o,l),n.preventDefault()}t.executeInSketcher("select",a,o,null),t.executeInSketcher("lockAll",a,o,null),t.executeInSketcher("unselect",a,o,null)}(n)},disabled:h,className:"bg-orange text-center",children:"\u05e9\u05e8\u05d8\u05d8 \u05d4\u05db\u05dc"})})]})}var g=n(2499),w=(n(8614),function(e){var t=(0,c.useState)(!1),p=(0,o.Z)(t,2),x=p[0],m=p[1],Z=(0,c.useContext)(l.default),w=(0,f.TH)(),k=(0,c.useState)(),D=(0,o.Z)(k,2),S=D[0],N=D[1],y=new v.Z,I=(0,c.useState)({right:!0,left:!0,up:!0,down:!0}),C=(0,o.Z)(I,2),z=C[0],P=C[1],T=(0,c.useState)([]),A=(0,o.Z)(T,2),_=A[0],E=A[1],M=(0,f.UO)().projectId;(0,c.useEffect)((function(){return function(){var t=!0,n=Z.stepsData.all,r=[];if(n){if(n.roofTypeDataArr&&n.roofTypeDataArr.length>0)for(var a=0;a<n.roofTypeDataArr.length;a++){var o=n.roofTypeDataArr[a],c=o.roofTypeId,i=o.modalType;if(c==d.Lm.ISKURIT){t=!1;var s=L(i);r.push({fetaCount:0,fetaData:[],allowDirection:s})}}if(t){var u,l=null,f=null;null!==w&&void 0!==w&&null!==(u=w.state)&&void 0!==u&&u.isPrev?e.OnPrev():e.OnSubmit(l,f)}O(n,r),N(n.UserId)}}(),e.displaySketcher(!1),function(){}}),[]);var O=function(e,t){e.fetotDataArr&&e.fetotDataArr.length>0?E(e.fetotDataArr):E(t)},L=function(e){var t=(0,a.Z)({},z);switch(Number(e)){case 3:t.down=!1,t.up=!1,t.left=!0,t.right=!0,P((0,a.Z)({},t));break;case 1:case 2:t.down=!0,t.up=!0,t.left=!1,t.right=!1,P((0,a.Z)({},t))}return t};return(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{className:"py-5",children:"\u05e1\u05d9\u05de\u05d5\u05df \u05e4\u05d8\u05d5\u05ea"}),(0,j.jsxs)("form",{onSubmit:function(t){var n={UserId:S,ProjectId:M,fetot:{},fetotDataArr:[]};_.map((function(e){e.zeroPoint||(alert("no zero point was selected"),console.error("no zero point was selected")),n.fetotDataArr.push((0,a.Z)({},e))})),y.saveSkecherDataInServer(n),e.OnSubmit(t,n)},id:"step5",children:[(0,j.jsx)(i.Z,{className:"text-center",children:(0,j.jsxs)(s.Z,{children:[(0,j.jsx)("h4",{className:"py-3 text-right",children:"\u05e1\u05de\u05df \u05d0\u05ea \u05d4\u05e6\u05dc\u05e2 \u05e9\u05de\u05de\u05e0\u05d4 \u05e0\u05ea\u05d7\u05d9\u05dc \u05d0\u05ea \u05e1\u05d9\u05de\u05d5\u05df \u05d4\u05e4\u05d8\u05d5\u05ea \u05d5\u05d0\u05ea \u05d4\u05de\u05d9\u05d3\u05d5\u05ea \u05e9\u05dc\u05d4\u05df \u05d1\u05e9\u05d9\u05e8\u05d8\u05d5\u05d8."}),(0,j.jsxs)("div",{className:"py-3 d-flex flex-row-start",children:[(0,j.jsx)("div",{onClick:function(){m(!x)},children:(0,j.jsx)(u.Z,{})}),1==x?(0,j.jsx)("img",{width:400,src:n(4407),alt:"select demo"}):""]})]})})," ",(0,j.jsx)(i.Z,{children:(0,j.jsx)(s.Z,{children:(0,j.jsxs)(g.mQ,{children:[(0,j.jsx)(g.td,{children:_&&_.map((function(e,t){return(0,j.jsxs)(g.OK,{children:[(0,j.jsx)("span",{className:"hide",children:(0,j.jsx)(h.Z,{})})," \u05d2\u05d2-",t]})}))}),_&&_.map((function(e,t){return(0,j.jsx)(g.x4,{children:(0,j.jsx)(b,{updateState:function(e,n){return function(e,t,n){var a=(0,r.Z)(_);a[n][t]=e,E(a)}(e,n,t)},state:e,id:t,allowDirection:z})})}))]})})})]})]})})},553:function(e,t,n){"use strict";n.d(t,{N:function(){return h}});var r=n(885),a=n(4299),o=n(3929),c=n(4268),i=n(3115),s=n(8700),u=n(4647),l=n(4e3),d=n(7313),f=n(6417),h=function(e){var t=(0,d.useState)("right"),n=(0,r.Z)(t,2);n[0],n[1];return(0,f.jsx)("div",{className:"arrow-wrapper",children:(0,f.jsxs)(a.Z,{id:e.id,"aria-labelledby":"directions-group",name:"directions-group-button",value:e.value||"",onChange:function(t){e.setVDirections(t.target.value),t.stopPropagation()},children:[e.left&&(0,f.jsx)(o.Z,{className:"left-arrow arrow",value:"left",label:"",control:(0,f.jsx)(c.Z,{icon:(0,f.jsx)(u.Z,{}),checkedIcon:(0,f.jsx)(u.Z,{})})},"left"),e.up&&(0,f.jsx)(o.Z,{className:"up-arrow arrow",value:"up",label:"",control:(0,f.jsx)(c.Z,{icon:(0,f.jsx)(i.Z,{}),checkedIcon:(0,f.jsx)(i.Z,{})})},"up"),(0,f.jsx)("div",{className:"rectangle-arrow"}),e.down&&(0,f.jsx)(o.Z,{className:"down-arrow arrow",value:"down",label:"",control:(0,f.jsx)(c.Z,{icon:(0,f.jsx)(s.Z,{}),checkedIcon:(0,f.jsx)(s.Z,{})})},"down"),e.right&&(0,f.jsx)(o.Z,{className:"right-arrow arrow",value:"right",label:"",control:(0,f.jsx)(c.Z,{icon:(0,f.jsx)(l.Z,{}),checkedIcon:(0,f.jsx)(l.Z,{})})},"right")]})})}},4647:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5045)),o=n(6417),c=(0,a.default)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=c},4e3:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5045)),o=n(6417),c=(0,a.default)((0,o.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.Z=c},4084:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5045)),o=n(6417),c=(0,a.default)((0,o.jsx)("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutline");t.Z=c},3745:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5045)),o=n(6417),c=(0,a.default)((0,o.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");t.Z=c},3115:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5045)),o=n(6417),c=(0,a.default)((0,o.jsx)("path",{d:"m5 9 1.41 1.41L11 5.83V22h2V5.83l4.59 4.59L19 9l-7-7-7 7z"}),"North");t.Z=c},8700:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5045)),o=n(6417),c=(0,a.default)((0,o.jsx)("path",{d:"m19 15-1.41-1.41L13 18.17V2h-2v16.17l-4.59-4.59L5 15l7 7 7-7z"}),"South");t.Z=c},5045:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8095)},8095:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return a.Z},createChainedFunction:function(){return o.Z},createSvgIcon:function(){return c.Z},debounce:function(){return i.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return f},setRef:function(){return h},unstable_ClassNameGenerator:function(){return g},unstable_useEnhancedEffect:function(){return v.Z},unstable_useId:function(){return p.Z},unsupportedProp:function(){return x},useControlled:function(){return m.Z},useEventCallback:function(){return Z.Z},useForkRef:function(){return j.Z},useIsFocusVisible:function(){return b.Z}});var r=n(1271),a=n(1615),o=n(5038),c=n(4750),i=n(8706);var s=function(e,t){return function(){return null}},u=n(7816),l=n(6106),d=n(3533);n(7462);var f=function(e,t){return function(){return null}},h=n(9265).Z,v=n(4993),p=n(7677);var x=function(e,t,n,r,a){return null},m=n(3800),Z=n(3236),j=n(6983),b=n(7037),g={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.Z.configure(e)}}},4407:function(e,t,n){"use strict";e.exports=n.p+"static/media/select-demo.87bc486c166cd2320cd4.gif"},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);